var jSVG=new function(){function D(B){function z(t,b,d,a){b=new D(b);a=JSON.parse(JSON.stringify(a));if(d)for(var e in d)a[e]=d[e];b.attributes(a);t&&t.appendChild(b);return b}var H={width:500,height:500,version:"1.1"},C={fill:"black",stroke:"none","stroke-width":"1",x:"0",y:"0",width:"10",height:"10",r:"5",cx:"5",cy:"5",x1:0,x2:10,y1:0,y2:10},A={},F="",E=void 0,G=[];this.svg=function(t){t||(t={});return z(null,"svg",t,H)};this.elementByName=function(t,b){return z(this,t,b,C)};this.g=function(t){return z(this,
"g",t,C)};this.path=function(t){return z(this,"path",t,C)};this.rectangle=function(t){return z(this,"rect",t,C)};this.circle=function(t){return z(this,"circle",t,C)};this.line=function(t){return z(this,"line",t,C)};this.text=function(t){var b=z(this,"text",t,C);b.value(t.value);return b};this.attribute=function(t,b){A[t]=b;return this};this.attributes=function(t){A=t;return this};this.style=function(t){F=t;return this};this.value=function(t){E=t;return this};this.width=function(){return A.width};
this.height=function(){return A.height};this.appendChild=function(t){G.push(t)};this.render=function(){var t=document.createElementNS("http://www.w3.org/2000/svg",B),b;for(b in A)t.setAttributeNS(null,b,A[b]);t.setAttributeNS(null,"style",F);for(b=0;b<G.length;b++)t.appendChild(G[b].render());E&&(b=document.createTextNode(E),t.appendChild(b));return t};this.toString=function(){var t="",b;for(b in A)t+=String.format(' {0}="{1}"',b,A[b]);b="";for(var d=0;d<G.length;d++)b+=G[d].toString();return String.format('<{0} xmlns="{1}" {2} style="{3}">{4}{5}</{0}>',
B,"http://www.w3.org/2000/svg",t,F,b,E?E:"")}}return new D};String.format=function(D){for(var B=1;B<arguments.length;B++)D=D.replace(RegExp("\\{"+(B-1)+"\\}","g"),arguments[B]);return D};"undefined"===typeof exports&&(exports={});
var jGraf=exports.jGraf=new function(){function D(b){return jSVG.svg({width:b.width,height:b.height})}function B(b,d,a){for(var e=a.series.length,h=d.width-0.2*d.marginRight,c=0;c<e;c++){var s=d.marginTop+2.5*(d.legendItemSize+d.barMargin)*c;b.circle({cx:h,cy:s,r:d.legendItemSize}).style(String.format("fill: {0}",a.serieColours[c%a.serieColours.length]));b.text({x:h-2*d.legendItemSize,y:s,value:a.series[c].name}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",
a.legend["font-colour"],a.legend["font-family"],a.legend["font-size"]))}}function z(b,d){if(b){"string"===typeof b&&(b={container:b});var a=JSON.parse(JSON.stringify(d)),e;for(e in b)a[e]=H(a[e],b[e]);b=a}else b=JSON.parse(JSON.stringify(d));return b}function H(b,d){if(d instanceof Array)return d;if("object"===typeof d){for(var a in d)b[a]=H(b[a],d[a]);return b}return d}function C(b,d,a){b.line({x1:d.marginLeft+d.yAxisMargin,x2:d.marginLeft+d.yAxisMargin,y1:d.marginTop,y2:d.innerHeight+d.marginTop-
d.xAxisMargin}).style(String.format("stroke: {0}",a.yAxis.colour));for(var e=d.ticksY+1,h=0;h<e;h++)b.line({x1:d.marginLeft+d.yAxisMargin,x2:d.marginLeft+d.innerWidth,y1:d.marginTop+h*d.yTickHeight,y2:d.marginTop+h*d.yTickHeight}).style(String.format("stroke: {0}",a.yAxis.tickColour));for(h=0;h<e;h++)b.text({x:d.marginLeft+d.yAxisMargin/1.2,y:d.marginTop+h*d.yTickHeight,value:(d.maxValue-h*d.valueInc).toFixed(0)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",
a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]));e=d.marginLeft;d=d.marginTop+(d.innerHeight-d.xAxisMargin)/2;b.text({x:e,y:d,value:a.yAxis.title,transform:String.format("rotate(-90 {0}, {1})",e,d)}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.yAxis["font-colour"],a.yAxis["font-family"],a.yAxis["font-size"]))}function A(b,d,a){var e=d.marginTop+d.innerHeight-d.xAxisMargin+d.minValue/(d.maxValue-d.minValue)*(d.innerHeight-d.xAxisMargin);b.line({x1:d.marginLeft+
d.yAxisMargin,x2:d.marginLeft+d.innerWidth,y1:e,y2:e}).style(String.format("stroke: {0}",a.xAxis.colour));for(var e=d.maxValueLength,h=0;h<e;h++){var c=d.marginLeft+d.yAxisMargin+d.groupMargin+d.xTickWidth/2+(d.xTickWidth+2*d.groupMargin)*h;b.line({x1:c,x2:c,y1:d.marginTop,y2:d.innerHeight+d.marginTop-d.xAxisMargin}).style(String.format("stroke: {0}",a.xAxis.tickColour));b.text({x:c,y:d.marginTop+d.innerHeight-d.xAxisMargin/2,value:a.xAxis.values[h]?a.xAxis.values[h]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",
a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}b.text({x:d.marginLeft+d.yAxisMargin+(d.innerWidth-d.yAxisMargin)/2,y:d.marginTop+d.innerHeight+d.xAxisMargin/2,value:a.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",a.xAxis["font-colour"],a.xAxis["font-family"],a.xAxis["font-size"]))}function F(b){for(var d=0,a=Number.MAX_VALUE,e=b.series.length,h=null,c=null,s=0,r=0;r<e;r++){h=b.series[r].values.length;h>s&&(s=h);for(var f=0;f<
h;f++)c=b.series[r].values[f],c instanceof Array&&(c=c[1]?c[1]:0),c>d&&(d=c),c<a&&(a=c)}b=G(a,d);return{max:b.max,min:b.min,valueLength:s,inc:b.inc}}function E(b,d,a){b.rectangle({x:0,y:0,width:d.width,height:d.height}).style(String.format("fill: {0}",a.backgroundColour))}function G(b,d){var a;a=d-b;var e=0;15>a?e=1:30>a?e=5:(a=1+Math.floor(Math.log(a)/Math.log(10)),e=Math.pow(10,a-1));a=e;return{max:Math.ceil(d/a)*a,min:Math.floor(b/a)*a,inc:a}}var t={width:600,height:400,margins:[10,20,10,5],backgroundColour:"none",
serieColours:["#FCD271","#FA5882","#2BBBD8","#102E37"],groupMargin:4,barMargin:8,xAxis:{title:"Meses",colour:"none",margin:10,tickColour:"none",values:["Ene","Feb","Mar","Abr","May"],"font-family":"Helvetica","font-colour":"#666","font-size":"16px"},yAxis:{title:"Values",colour:"none",margin:10,tickColour:"#ccc","font-family":"Helvetica","font-colour":"#aaa","font-size":"16px"},series:[{name:"Primero",values:[-1,4,5,3,6]},{name:"Segundo",values:[1,7,5,6,4]},{name:"Tercero",values:[0,1,2,3,4]}],legend:{show:!0,
itemSize:1,"font-colour":"#666","font-family":"Helvetica","font-size":"16px"}};this.barChart=function(b){b=z(b,t);var d=D(b),a;a=b;var e=d.width(),h=d.height(),c=h*a.margins[0]/100,s=e*a.margins[1]/100,r=h*a.margins[2]/100,f=e*a.margins[3]/100,m=a.yAxis.margin*e/100,q=a.xAxis.margin*h/100,n=e-f-s,l=h-c-r,g=F(a),u=g.max,k=0<g.min?0:g.min,v=g.valueLength,p=(u-k)/g.inc,g=(n-m)/g.valueLength,w=a.groupMargin*g/100,g=g-2*w,x=g/a.series.length,y=a.barMargin*x/100;a={width:e,height:h,marginTop:c,marginRight:s,
marginBottom:r,marginLeft:f,innerWidth:n,innerHeight:l,yAxisMargin:m,xAxisMargin:q,maxValue:u,minValue:k,maxValueLength:v,ticksY:p,yTickHeight:0!=p?(l-q)/p:0,xTickWidth:g,valueInc:0!=p?(u-k)/p:0,barMargin:y,groupMargin:w,barWidth:x-2*y,legendItemSize:a.legend.itemSize*e/100};e=d.g();E(e,a,b);C(e,a,b);A(e,a,b);h=a.maxValueLength;c=b.series.length;s=a.barWidth;r=a.innerHeight-a.xAxisMargin;f=a.minValue/(a.maxValue-a.minValue)*r;for(m=0;m<h;m++)for(q=0;q<c;q++)(u=b.series[q].values[m])||(u=0),n=a.marginLeft+
a.yAxisMargin+a.groupMargin*(2*m+1)+a.barMargin+a.xTickWidth*m+(s+2*a.barMargin)*q,l=0<=u?a.marginTop+a.innerHeight-a.xAxisMargin+f-u/(a.maxValue-a.minValue)*r:a.marginTop+a.innerHeight-a.xAxisMargin+f,u=Math.abs(u)/(a.maxValue-a.minValue)*r,e.rectangle({x:n,y:l,width:s,height:u}).style(String.format("fill: {0}",b.serieColours[q]));b.legend.show&&B(e,a,b);return d};this.lineChart=function(b){b=z(b,t);var d=D(b),a;a=b;var e=d.width(),h=d.height(),c=h*a.margins[0]/100,s=e*a.margins[1]/100,r=h*a.margins[2]/
100,f=e*a.margins[3]/100,m=a.yAxis.margin*e/100,q=a.xAxis.margin*h/100,n=e-f-s,l=h-c-r,g=F(a),u=g.max,k=g.min,v=g.valueLength,p=(u-k)/g.inc,g=(n-m)/g.valueLength,w=a.groupMargin*g/100,g=g-2*w,x=g/a.series.length,y=a.barMargin*x/100;a={width:e,height:h,marginTop:c,marginRight:s,marginBottom:r,marginLeft:f,innerWidth:n,innerHeight:l,yAxisMargin:m,xAxisMargin:q,maxValue:u,minValue:k,maxValueLength:v,ticksY:p,yTickHeight:0!=p?(l-q)/p:0,xTickWidth:g,valueInc:0!=p?(u-k)/p:0,barMargin:y,groupMargin:w,barWidth:x-
2*y,legendItemSize:a.legend.itemSize*e/100};e=d.g();E(e,a,b);C(e,a,b);A(e,a,b);h=b.series.length;c=a.maxValueLength;s=a.innerHeight-a.xAxisMargin;r=a.minValue/(a.maxValue-a.minValue)*s;for(f=0;f<h;f++)for(m=0;m<c;m++)l=b.series[f].values[m],n=0<m?b.series[f].values[m-1]:0,l||(l=0),n||(n=0),q=a.marginLeft+a.yAxisMargin+a.groupMargin+a.xTickWidth/2+(a.xTickWidth+2*a.groupMargin)*m,l=a.marginTop+a.innerHeight-a.xAxisMargin+r-l/(a.maxValue-a.minValue)*s,u=a.marginLeft+a.yAxisMargin+a.groupMargin+a.xTickWidth/
2+(a.xTickWidth+2*a.groupMargin)*(m-1),n=a.marginTop+a.innerHeight-a.xAxisMargin+r-n/(a.maxValue-a.minValue)*s,e.circle({cx:q,cy:l,r:5}).style(String.format("fill: {0}",b.serieColours[f%b.serieColours.length])),0<m&&e.line({x1:u,x2:q,y1:n,y2:l}).style(String.format("stroke: {0}",b.serieColours[f%b.serieColours.length]));b.legend.show&&B(e,a,b);return d};this.pieChart=function(b){b=z(b,t);var d=D(b),a;a=b;var e=d.width(),h=d.height(),c=h*a.margins[0]/100,s=e*a.margins[1]/100,r=h*a.margins[2]/100,f=
e*a.margins[3]/100,m=a.yAxis.margin*e/100,q=a.xAxis.margin*h/100,n=e-f-s,l=h-c-r,g=F(a),u=g.max,k=g.min,v=g.valueLength,p=(u-k)/g.inc,g=(n-m)/g.valueLength,w=a.groupMargin*g/100,g=g-2*w,x=g/a.series.length,y=a.barMargin*x/100;a={width:e,height:h,marginTop:c,marginRight:s,marginBottom:r,marginLeft:f,innerWidth:n,innerHeight:l,yAxisMargin:m,xAxisMargin:q,maxValue:u,minValue:k,maxValueLength:v,ticksY:p,yTickHeight:0!=p?(l-q)/p:0,xTickWidth:g,valueInc:0!=p?(u-k)/p:0,barMargin:y,groupMargin:w,barWidth:x-
2*y,legendItemSize:a.legend.itemSize*e/100};e=d.g();E(e,a,b);h=a.maxValueLength;1==h?(c=Math.min(a.innerWidth-2*a.yAxisMargin,a.innerHeight-2*a.xAxisMargin)/2,s=a.innerWidth/2,r=a.innerHeight/2,f=0,m=1):2==h?(c=Math.min(a.innerWidth-2*a.yAxisMargin,a.innerHeight-2*a.xAxisMargin)/4,s=a.marginLeft+c,r=a.innerHeight/2,f=a.innerWidth-2*c,m=2):(8<h&&(h=8),c=Math.min(a.innerWidth,a.innerHeight-2*a.xAxisMargin)/4,m=Math.ceil(h/2),s=a.marginLeft+c,r=a.marginTop+c,f=(a.innerWidth-2*m*c)/(m-1)+2*c);for(q=0;q<
h;q++){q<m?(n=s+f*q,l=r):(n=h-m,l=(a.innerWidth-2*n*c)/(n<m?n+1:n-1),f=l+2*c,n=a.marginLeft+(n<m?l:0)+c+f*(q%m),l=a.marginTop+a.innerHeight-a.xAxisMargin-c);e.text({x:n,y:l+c+a.xAxisMargin/2,value:b.xAxis.values[q]?b.xAxis.values[q]:""}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]));g=p=0;u=b.series.length;for(k=0;k<u;k++)(w=Math.abs(b.series[k].values[q]))||(w=0),0!=
w&&g++,p+=w;v=[];for(k=0;k<u;k++)(w=Math.abs(2*(b.series[k].values[q]/p)*Math.PI))||(w=0),v[k]=w;if(1==g){p="";for(k=0;k<u;k++)if(0!=v[k]){p=b.serieColours[k];break}e.circle({cx:n,cy:l,r:c}).style(String.format("fill: {0}",p))}else for(k=p=0;k<u;k++){var g=p+v[k],w=n+c*Math.sin(p),x=l-c*Math.cos(p),y=n+c*Math.sin(g),C=l-c*Math.cos(g),A=0;g-p>Math.PI&&(A=1);e.path().attribute("d","M "+n+","+l+" L "+w+","+x+" A "+c+","+c+" 0 "+A+" 1 "+y+","+C+" Z").style(String.format("fill: {0}",b.serieColours[k]));
p=g}}b.legend.show&&B(e,a,b);return d};this.polarChart=function(b){b=z(b,t);var d=D(b),a;a=b;var e=d.width(),h=d.height(),c=h*a.margins[0]/100,s=e*a.margins[1]/100,r=h*a.margins[2]/100,f=e*a.margins[3]/100,m=a.yAxis.margin*e/100,q=a.xAxis.margin*h/100,n=e-f-s,l=h-c-r,g=F(a),u=g.max,k=0<g.min?0:g.min,v=g.valueLength,p=(u-k)/g.inc,g=(n-m)/g.valueLength,w=a.groupMargin*g/100,g=g-2*w,x=g/a.series.length,y=a.barMargin*x/100;a={width:e,height:h,marginTop:c,marginRight:s,marginBottom:r,marginLeft:f,innerWidth:n,
innerHeight:l,yAxisMargin:m,xAxisMargin:q,maxValue:u,minValue:k,maxValueLength:v,ticksY:p,yTickHeight:0!=p?(l-q)/p:0,xTickWidth:g,valueInc:0!=p?(u-k)/p:0,barMargin:y,groupMargin:w,barWidth:x-2*y,legendItemSize:a.legend.itemSize*e/100};e=d.g();E(e,a,b);h=Math.min(a.innerWidth-2*a.yAxisMargin,a.innerHeight-2*a.xAxisMargin)/2;c=a.maxValueLength;s=a.width/2;r=a.height/2;m=[];for(f=0;f<c;f++)m.push({x:s+h*Math.cos(2*Math.PI*f/c-Math.PI/2),y:r+h*Math.sin(2*Math.PI*f/c-Math.PI/2)});for(f=0;f<c;f++)k=m[f],
e.line({x1:s,y1:r,x2:k.x,y2:k.y}).style(String.format("stroke: {0};",b.yAxis.tickColour));for(f=0;f<c;f++)k=s+(h+a.xAxisMargin/2)*Math.cos(2*Math.PI*f/c-Math.PI/2),p=r+(h+a.xAxisMargin/2)*Math.sin(2*Math.PI*f/c-Math.PI/2),g=b.xAxis.values[f]?b.xAxis.values[f]:"",e.text({x:k,y:p,value:g}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle;dominant-baseline: middle",b.xAxis["font-colour"],b.xAxis["font-family"],b.xAxis["font-size"]));m=a.maxValue;q=a.minValue;m=5*Math.ceil(m/
5);q=5*Math.floor(q/5);u=h/5;v=(m-q)/5;for(f=0;5>=f;f++){n=[];k=u*f;e.text({x:s-a.xAxisMargin/2,y:r-k,value:q+f*v}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: end;dominant-baseline: middle",b.yAxis["font-colour"],b.yAxis["font-family"],b.yAxis["font-size"]));for(l=0;l<c;l++)n.push({x:s+k*Math.cos(2*Math.PI*l/c-Math.PI/2),y:r+k*Math.sin(2*Math.PI*l/c-Math.PI/2)});for(l=0;l<c;l++)k=n[l],p=0==l?n[c-1]:n[l-1],e.line({x1:p.x,y1:p.y,x2:k.x,y2:k.y}).style(String.format("stroke: {0};",
b.yAxis.tickColour))}v=Math.abs(q/(m-q))*h;u=b.series.length;n=[];for(f=0;f<u;f++)for(n[f]=[],l=0;l<c;l++)(g=b.series[f].values[l])||(g=0),p=0>g?v-Math.abs(g/q)*v:g/m*(h-v)+v,k=s+p*Math.cos(2*Math.PI*l/c-Math.PI/2),p=r+p*Math.sin(2*Math.PI*l/c-Math.PI/2),n[f].push({x:k,y:p});for(f=0;f<u;f++)for(l=0;l<c;l++)k=n[f][l],p=0==l?n[f][c-1]:n[f][l-1],e.circle({cx:k.x,cy:k.y,r:5}).style(String.format("fill: {0}",b.serieColours[f%b.serieColours.length])),e.line({x1:p.x,y1:p.y,x2:k.x,y2:k.y}).style(String.format("stroke: {0};",
b.serieColours[f%b.serieColours.length]));b.legend.show&&B(e,a,b);return d};this.scatterPlot=function(b){var d,a,e;b=z(b,t);var h=D(b),c;c=b;var s=h.width();d=h.height();a=d*c.margins[0]/100;var r=s*c.margins[1]/100,f=d*c.margins[2]/100;e=s*c.margins[3]/100;var m=c.yAxis.margin*s/100,q=c.xAxis.margin*d/100,n=s-e-r,l=d-a-f,g=F(c),u=g.max,k=g.min,v=g.valueLength,p=(u-k)/g.inc,g=(n-m)/g.valueLength,w=c.groupMargin*g/100,g=g-2*w,x=g/c.series.length,y=c.barMargin*x/100;c={width:s,height:d,marginTop:a,
marginRight:r,marginBottom:f,marginLeft:e,innerWidth:n,innerHeight:l,yAxisMargin:m,xAxisMargin:q,maxValue:u,minValue:k,maxValueLength:v,ticksY:p,yTickHeight:0!=p?(l-q)/p:0,xTickWidth:g,valueInc:0!=p?(u-k)/p:0,barMargin:y,groupMargin:w,barWidth:x-2*y,legendItemSize:c.legend.itemSize*s/100};s=h.g();E(s,c,b);C(s,c,b);r=b;d=c.marginTop+c.innerHeight-c.xAxisMargin+c.minValue/(0!=c.maxValue-c.minValue?c.maxValue-c.minValue:1)*(c.innerHeight-c.xAxisMargin);s.line({x1:c.marginLeft+c.yAxisMargin,x2:c.marginLeft+
c.innerWidth,y1:d,y2:d}).style(String.format("stroke: {0}",r.xAxis.colour));d=0;a=Number.MAX_VALUE;f=r.series.length;m=e=null;for(q=0;q<f;q++)for(e=r.series[q].values.length,n=0;n<e;n++)m=r.series[q].values[n][0]?r.series[q].values[n][0]:0,m>d&&(d=m),m<a&&(a=m);f=G(a,d);d=f.max;a=f.min;e=f.inc;m=(d-a)/e;f=(c.innerWidth-c.yAxisMargin)/m;m+=1;for(q=0;q<m;q++)n=c.marginLeft+c.yAxisMargin+f*q,s.line({x1:n,x2:n,y1:c.marginTop,y2:c.innerHeight+c.marginTop-c.xAxisMargin}).style(String.format("stroke: {0}",
r.xAxis.tickColour)),s.text({x:n,y:c.marginTop+c.innerHeight-c.xAxisMargin/2,value:a+e*q}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",r.xAxis["font-colour"],r.xAxis["font-family"],r.xAxis["font-size"]));s.text({x:c.marginLeft+c.yAxisMargin+(c.innerWidth-c.yAxisMargin)/2,y:c.marginTop+c.innerHeight+c.xAxisMargin/2,value:r.xAxis.title}).style(String.format("fill: {0};font-family:{1};font-size:{2};text-anchor: middle",r.xAxis["font-colour"],r.xAxis["font-family"],
r.xAxis["font-size"]));r=b.series.length;e=c.innerHeight-c.xAxisMargin;m=c.innerWidth-c.yAxisMargin;q=0;0>=c.minValue&&0!=c.maxValue-c.minValue&&(q=c.minValue/(c.maxValue-c.minValue)*e);n=0;0>=a&&(n=f*Math.abs(a));for(f=0;f<r;f++)for(l=b.series[f].values,u=l.length,k=0;k<u;k++)(v=l[k][0]?l[k][0]:0)||(v=0),(p=l[k][1]?l[k][1]:0)||(p=0),s.circle({cx:c.marginLeft+c.yAxisMargin+n+(0==d-a?0:(v-a)/(d-a))*m,cy:c.marginTop+c.innerHeight-c.xAxisMargin+q-(0==c.maxValue-c.minValue?1:(p-c.minValue)/(c.maxValue-
c.minValue))*e,r:5}).style(String.format("fill: {0}",b.serieColours[f%b.serieColours.length]));b.legend.show&&B(s,c,b);return h}};
